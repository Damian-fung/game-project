# æ·±åº¦å­¸ç¿’AIè²ªåƒè›‡å°æˆ°ç³»çµ± - å®Œæ•´å°ˆæ¡ˆæ–‡æª”

## å°ˆæ¡ˆæ¦‚è¿°

é€™æ˜¯ä¸€å€‹åŸºæ–¼æ·±åº¦å¼·åŒ–å­¸ç¿’ï¼ˆDeep Q-Network, DQNï¼‰çš„é›™AIè²ªåƒè›‡å°æˆ°ç³»çµ±ï¼Œä½¿ç”¨ Pygame å¯¦ç¾éŠæˆ²è¦–è¦ºåŒ–ã€‚å…©æ¢AIè›‡æœƒé€šéæ·±åº¦å­¸ç¿’æŒçºŒæ”¹é€²ç­–ç•¥ï¼Œäº’ç›¸ç«¶çˆ­ä»¥ç²å–é£Ÿç‰©ä¸¦æ”»æ“Šå°æ–¹ã€‚

### æ ¸å¿ƒç‰¹è‰²
- âœ… **æ·±åº¦å¼·åŒ–å­¸ç¿’**ï¼šä½¿ç”¨ PyTorch å¯¦ç¾çš„ DQN ç®—æ³•
- âœ… **é›™AIå°æˆ°**ï¼šå…©æ¢è›‡åŒæ™‚è¨“ç·´ï¼Œäº’ç›¸å­¸ç¿’å°æŠ—ç­–ç•¥
- âœ… **2D/3D è¦–è¦ºåŒ–**ï¼šæ”¯æ´å‚³çµ±2Dèˆ‡ç­‰è§’æŠ•å½±3Dé¡¯ç¤ºæ¨¡å¼
- âœ… **å³æ™‚è¨“ç·´ç›£æ§**ï¼šé¡¯ç¤ºå­¸ç¿’æ›²ç·šã€æ¢ç´¢ç‡ã€å‹ç‡ç­‰çµ±è¨ˆæ•¸æ“š
- âœ… **ç¶“é©—å›æ”¾**ï¼šä¿å­˜è¨“ç·´è¨˜æ†¶ä¾›å¾ŒçºŒåˆ†æ
- âœ… **æ¨¡å‹æŒä¹…åŒ–**ï¼šè‡ªå‹•ä¿å­˜èˆ‡è¼‰å…¥è¨“ç·´å¥½çš„æ¨¡å‹

---

## ç›®éŒ„çµæ§‹

```
game-project/
â”œâ”€â”€ game.py                        # ä¸»ç¨‹å¼ï¼ˆ1564è¡Œï¼‰
â”œâ”€â”€ README.md                      # ç°¡è¦èªªæ˜ï¼ˆè‹±æ–‡ï¼‰
â”œâ”€â”€ requirements.txt               # Python ä¾è³´å¥—ä»¶
â”œâ”€â”€ PROJECT_DOCUMENTATION_zh-TW.md # æœ¬æ–‡æª”ï¼ˆç¹é«”ä¸­æ–‡ï¼‰
â”œâ”€â”€ __pycache__/                   # Python å¿«å–æª”æ¡ˆ
â”œâ”€â”€ snake_models/                  # AI æ¨¡å‹å„²å­˜ç›®éŒ„
â”‚   â”œâ”€â”€ snake1_model.pth          # AIè›‡1 çš„ç¥ç¶“ç¶²è·¯æ¬Šé‡
â”‚   â””â”€â”€ snake2_model.pth          # AIè›‡2 çš„ç¥ç¶“ç¶²è·¯æ¬Šé‡
â””â”€â”€ snake_memories/                # è¨“ç·´è¨˜æ†¶å„²å­˜ç›®éŒ„
    â”œâ”€â”€ episode_memory_*.pkl      # è¨“ç·´å›åˆè¨˜æ†¶æª”æ¡ˆï¼ˆ21å€‹ï¼‰
    â””â”€â”€ ...
```

---

## æ ¸å¿ƒç³»çµ±æ¶æ§‹

### 1. æ·±åº¦å­¸ç¿’æ¨¡çµ„

#### **DQN ç¥ç¶“ç¶²è·¯** (`DQN` é¡)
```python
æ¶æ§‹ï¼šè¼¸å…¥å±¤(11ç¶­) â†’ å…¨é€£æ¥(128) â†’ å…¨é€£æ¥(128) â†’ å…¨é€£æ¥(64) â†’ è¼¸å‡ºå±¤(4ç¶­)
æ¿€æ´»å‡½æ•¸ï¼šReLU
è¼¸å‡ºï¼š4å€‹å‹•ä½œçš„ Q å€¼ï¼ˆä¸Šã€ä¸‹ã€å·¦ã€å³ï¼‰
```

**ç‹€æ…‹ç‰¹å¾µï¼ˆ11ç¶­ï¼‰**ï¼š
1. ç•¶å‰æ–¹å‘ï¼ˆ4ç¶­ one-hotï¼‰ï¼šå·¦ã€å³ã€ä¸Šã€ä¸‹
2. é£Ÿç‰©ç›¸å°ä½ç½®ï¼ˆ4ç¶­ï¼‰ï¼šé£Ÿç‰©åœ¨å·¦ã€å³ã€ä¸Šã€ä¸‹
3. å±éšªæª¢æ¸¬ï¼ˆ3ç¶­ï¼‰ï¼šå‰æ–¹å±éšªã€å·¦æ–¹å±éšªã€å³æ–¹å±éšª

**è¨“ç·´åƒæ•¸**ï¼š
- å­¸ç¿’ç‡ï¼š0.001
- æŠ˜æ‰£å› å­ Î³ï¼š0.95
- æ‰¹æ¬¡å¤§å°ï¼š32
- è¨˜æ†¶å®¹é‡ï¼š10,000
- Îµ-greedy æ¢ç´¢ç‡ï¼š1.0 â†’ 0.01ï¼ˆè¡°æ¸›ç‡ 0.995ï¼‰

#### **ç¶“é©—å›æ”¾** (`ReplayMemory` é¡)
ä½¿ç”¨ `deque` å¯¦ç¾å¾ªç’°ç·©è¡å€ï¼Œå„²å­˜ (ç‹€æ…‹, å‹•ä½œ, ä¸‹ä¸€ç‹€æ…‹, çå‹µ, å®Œæˆ) äº”å…ƒçµ„ã€‚

#### **DQN ä»£ç†** (`DQNAgent` é¡)
- **ç­–ç•¥é¸æ“‡**ï¼šÎµ-greedyï¼ˆæ¢ç´¢ vs åˆ©ç”¨ï¼‰
- **ç›®æ¨™ç¶²è·¯**ï¼šæ¯ 100 æ­¥æ›´æ–°ä¸€æ¬¡ï¼Œç©©å®šè¨“ç·´
- **æå¤±å‡½æ•¸**ï¼šå‡æ–¹èª¤å·®ï¼ˆMSEï¼‰
- **å„ªåŒ–å™¨**ï¼šAdam

### 2. éŠæˆ²é‚è¼¯

#### **Snake é¡**
- **å±¬æ€§**ï¼šèº«é«”åº§æ¨™åˆ—è¡¨ã€æ–¹å‘ã€é¡è‰²ã€åˆ†æ•¸ã€å­˜æ´»ç‹€æ…‹
- **ç§»å‹•**ï¼šæ”¯æ´ AI æ§åˆ¶èˆ‡äººå·¥æ§åˆ¶
- **ç¢°æ’æª¢æ¸¬**ï¼šè‡ªæˆ‘ç¢°æ’ã€é ­å°é ­ã€é ­å°èº«é«”
- **æˆé•·æ©Ÿåˆ¶**ï¼šåƒåˆ°é£Ÿç‰©æ™‚è¤‡è£½å°¾ç«¯ç¯€é»
- **ç¹ªè£½**ï¼šæ”¯æ´ 2D èˆ‡ 3D ç­‰è§’æŠ•å½±ç¹ªè£½ï¼ˆåŒ…å«çœ¼ç›ã€å˜´å·´ã€è£é£¾ï¼‰

#### **Food é¡**
- **ä½ç½®ç”Ÿæˆ**ï¼šéš¨æ©Ÿç”¢ç”Ÿï¼Œé¿å…ç”Ÿæˆåœ¨è›‡èº«ä¸Š
- **å‹•ç•«æ•ˆæœ**ï¼šè„ˆå‹•å‹•ç•«ã€æ—‹è½‰è‘‰å­
- **3D æ¸²æŸ“**ï¼šç­‰è§’æŠ•å½± 3D è˜‹æœæ¨¡å‹

#### **AttackEffect é¡**
- **ç²’å­ç³»çµ±**ï¼šçˆ†ç‚¸ç²’å­æ•ˆæœ
- **ç”Ÿå‘½é€±æœŸ**ï¼šå¯é…ç½®çš„æŒçºŒå¹€æ•¸
- **3D æ”¯æ´**ï¼šç­‰è§’æŠ•å½±ç²’å­

### 3. éŠæˆ²æ ¸å¿ƒæ©Ÿåˆ¶

#### **çå‹µç³»çµ±** (`calculate_reward` æ–¹æ³•)
```python
åŸºç¤ç”Ÿå­˜çå‹µï¼š+0.01 æ¯æ­¥
åƒåˆ°é£Ÿç‰©ï¼š+10
æ”»æ“ŠæˆåŠŸï¼ˆå’¬æ‰å°æ–¹å°¾å·´ï¼‰ï¼š+5
æ­»äº¡æ‡²ç½°ï¼š-20
é•·æ™‚é–“æœªé€²é£Ÿæ‡²ç½°ï¼š-0.1ï¼ˆè¶…é100æ­¥ç„¡åˆ†ï¼‰
```

#### **å°æˆ°è¦å‰‡**
1. **é ­å°é ­ç¢°æ’**ï¼šèº«é«”è¼ƒé•·è€…ç²å‹ï¼›åŒé•·å‰‡é›™æ­»
2. **é ­å°èº«é«”**ï¼š
   - æ”»æ“Šè€…å’¬æ‰è¢«æ”»æ“Šè€…å°¾å·´ä¸€ç¯€
   - è¢«æ”»æ“Šè€…åªå‰©ä¸€ç¯€æ™‚æ­»äº¡
   - æ”»æ“Šè€…ç²å¾— +1 åˆ†
3. **è‡ªæˆ‘ç¢°æ’**ï¼šç«‹å³æ­»äº¡
4. **é‚Šç•Œ**ï¼šç’°ç¹æ¨¡å¼ï¼ˆå¾ä¸€å´å‡ºç¾åœ¨å¦ä¸€å´ï¼‰

#### **å›åˆçµæŸæ¢ä»¶**
- å…©æ¢è›‡éƒ½æ­»äº¡ â†’ å¹³æ‰‹
- åªæœ‰ä¸€æ¢è›‡å­˜æ´» â†’ è©²è›‡ç²å‹
- è‡ªå‹•é‡ç½®ä¸¦é–‹å§‹æ–°å›åˆ

### 4. UI èˆ‡è¦–è¦ºåŒ–

#### **2D æ¨¡å¼**
- ç¶²æ ¼èƒŒæ™¯
- å¹³é¢è›‡èº«èˆ‡é£Ÿç‰©
- çœ¼ç›æ ¹æ“šæ–¹å‘èª¿æ•´ä½ç½®
- é™°å½±èˆ‡é«˜å…‰æ•ˆæœ

#### **3D æ¨¡å¼**ï¼ˆç­‰è§’æŠ•å½±ï¼‰
- åœ°æ¿ç“·ç£šï¼ˆæ£‹ç›¤æ ¼ï¼‰
- 3D ç‰†å£
- å…‰æºå…‰æšˆæ•ˆæœ
- 3D è›‡èº«èˆ‡é£Ÿç‰©ç«‹æ–¹é«”
- é«˜åº¦è®ŠåŒ–è¡¨ç¾é ­éƒ¨

#### **å³å´é¢æ¿**
- **AI ç‹€æ…‹**ï¼šåˆ†æ•¸ã€é•·åº¦ã€å­˜æ´»ã€æ¢ç´¢ç‡
- **å›åˆè³‡è¨Š**ï¼šå›åˆæ•¸ã€è¨“ç·´ç‹€æ…‹ã€3Dæ¨¡å¼
- **å­¸ç¿’æ›²ç·šåœ–**ï¼šæœ€è¿‘100å›åˆçš„å¾—åˆ†è¶¨å‹¢
- **äº’å‹•æŒ‰éˆ•**ï¼šåˆ‡æ›3Dã€è¨“ç·´æ¨¡å¼ã€é‡ç½®ã€ä¿å­˜
- **æ§åˆ¶æç¤º**ï¼šéµç›¤å¿«æ·éµèªªæ˜
- **å‹åˆ©çµ±è¨ˆ**ï¼šé›™æ–¹ç´¯ç©å‹å ´

---

## ä½¿ç”¨æŒ‡å—

### ç’°å¢ƒéœ€æ±‚

**Python ç‰ˆæœ¬**ï¼š3.10+ ï¼ˆæ”¯æ´ 3.13ï¼‰

**å¿…è¦å¥—ä»¶**ï¼š
```bash
pygame       # éŠæˆ²å¼•æ“
PyOpenGL     # 3D æ¸²æŸ“æ”¯æ´ï¼ˆæœªå¯¦éš›ä½¿ç”¨ OpenGLï¼Œä½†åˆ—æ–¼éœ€æ±‚ä¸­ï¼‰
numpy        # æ•¸å€¼è¨ˆç®—
torch        # PyTorch æ·±åº¦å­¸ç¿’æ¡†æ¶
```

### å®‰è£æ­¥é©Ÿ

1. **å®‰è£ä¾è³´**ï¼š
```bash
pip install -r requirements.txt
```

2. **é©—è­‰å®‰è£**ï¼š
```bash
python -c "import pygame, torch, numpy; print('æ‰€æœ‰å¥—ä»¶å®‰è£æˆåŠŸ')"
```

### åŸ·è¡Œæ–¹å¼

#### **è¨“ç·´æ¨¡å¼ï¼ˆé è¨­ï¼‰**
```bash
python game.py
```
- å…©æ¢AIè›‡æŒçºŒè¨“ç·´
- è‡ªå‹•ä¿å­˜æ¨¡å‹ï¼ˆæ¯100å›åˆï¼‰
- è¨˜éŒ„ç¶“é©—å›æ”¾ï¼ˆæ¯50å›åˆï¼‰

#### **æ¼”ç¤ºæ¨¡å¼ï¼ˆåƒ…å±•ç¤ºï¼‰**
```bash
python game.py --demo
```
- è¼‰å…¥å·²è¨“ç·´æ¨¡å‹é€²è¡Œå°æˆ°
- ä¸é€²è¡Œå­¸ç¿’æ›´æ–°
- é©åˆè§€å¯Ÿè¨“ç·´æˆæœ

### éµç›¤æ§åˆ¶

| æŒ‰éµ | åŠŸèƒ½ |
|------|------|
| **ESC** | é€€å‡ºéŠæˆ² |
| **ç©ºæ ¼** | æš«åœ/ç¹¼çºŒ |
| **R** | é‡ç½®ç•¶å‰å›åˆ |
| **T** | åˆ‡æ›è¨“ç·´/æ¼”ç¤ºæ¨¡å¼ |
| **S** | æ‰‹å‹•ä¿å­˜æ¨¡å‹ |
| **D** | åˆ‡æ› 2D/3D é¡¯ç¤ºæ¨¡å¼ |

### UI äº’å‹•æŒ‰éˆ•

é»æ“Šå³å´é¢æ¿çš„æŒ‰éˆ•å¯åŸ·è¡Œå°æ‡‰åŠŸèƒ½ï¼ˆèˆ‡éµç›¤æ§åˆ¶ç›¸åŒï¼‰ã€‚

---

## è¨“ç·´ç­–ç•¥èˆ‡å„ªåŒ–

### ç•¶å‰å¯¦ä½œ

1. **é›™ä»£ç†å­¸ç¿’**ï¼š
   - å…©æ¢è›‡ç¨ç«‹è¨“ç·´å„è‡ªçš„ç¥ç¶“ç¶²è·¯
   - äº’ç›¸ä½œç‚ºå°æ–¹çš„å‹•æ…‹ç’°å¢ƒï¼ˆè‡ªæˆ‘å°å¼ˆï¼‰

2. **ç¶“é©—å›æ”¾**ï¼š
   - æ‰“ç ´æ™‚é–“ç›¸é—œæ€§
   - æé«˜æ¨£æœ¬æ•ˆç‡

3. **ç›®æ¨™ç¶²è·¯**ï¼š
   - æ¸›å°‘è¨“ç·´æ™‚çš„ Q å€¼éä¼°è¨ˆ
   - ç©©å®šè¨“ç·´éç¨‹

4. **Îµ-greedy æ¢ç´¢**ï¼š
   - åˆæœŸé«˜æ¢ç´¢ï¼ˆÎµ=1.0ï¼‰
   - å¾ŒæœŸé«˜åˆ©ç”¨ï¼ˆÎµâ†’0.01ï¼‰

### å·²çŸ¥é™åˆ¶èˆ‡æ”¹é€²æ–¹å‘

#### ğŸ”§ **éœ€è¦æ”¹é€²çš„åœ°æ–¹**

1. **ç‹€æ…‹è¡¨ç¤ºä¸å®Œæ•´**ï¼š
   - âŒ åƒ…è€ƒæ…®3å€‹æ–¹å‘çš„å±éšªï¼ˆå‰ã€å·¦ã€å³ï¼‰
   - âŒ æ²’æœ‰å®Œæ•´çš„ç’°å¢ƒè¦–é‡ï¼ˆå¦‚8x8ç¶²æ ¼ï¼‰
   - âœ… **å»ºè­°**ï¼šæ”¹ç”¨å·ç©ç¥ç¶“ç¶²è·¯ï¼ˆCNNï¼‰è™•ç†å®Œæ•´æ£‹ç›¤ç‹€æ…‹

2. **çå‹µè¨­è¨ˆéæ–¼ç°¡å–®**ï¼š
   - âŒ æ”»æ“Šçå‹µå¯èƒ½éä½ï¼ˆ+5 vs +10é£Ÿç‰©ï¼‰
   - âŒ æ²’æœ‰è·é›¢çå‹µå¼•å°è›‡æ¥è¿‘é£Ÿç‰©
   - âœ… **å»ºè­°**ï¼šåŠ å…¥æ›¼å“ˆé “è·é›¢çå‹µã€ç”Ÿå­˜æ™‚é–“çå‹µ

3. **æ¢ç´¢ç‡è¡°æ¸›éå¿«**ï¼š
   - âŒ 0.995 çš„è¡°æ¸›ç‡ç´„åœ¨ 500 å›åˆå¾Œé™è‡³ 0.08
   - âœ… **å»ºè­°**ï¼šèª¿æ•´ç‚º 0.999 æˆ–ä½¿ç”¨åˆ†æ®µè¡°æ¸›

4. **ç›®æ¨™ç¶²è·¯æ›´æ–°é »ç‡**ï¼š
   - âŒ æ¯ 100 æ­¥æ›´æ–°å¯èƒ½å¤ªé »ç¹
   - âœ… **å»ºè­°**ï¼šæ”¹ç‚ºæ¯ 1000 æ­¥æˆ–ä½¿ç”¨è»Ÿæ›´æ–°ï¼ˆÏ„=0.005ï¼‰

5. **æ²’æœ‰å„ªå…ˆç¶“é©—å›æ”¾**ï¼š
   - âŒ æ‰€æœ‰ç¶“é©—ç­‰æ¬Šé‡æ¡æ¨£
   - âœ… **å»ºè­°**ï¼šå¯¦ä½œå„ªå…ˆç¶“é©—å›æ”¾ï¼ˆPERï¼‰

#### ğŸš€ **é€²éšæ¼”ç®—æ³•å»ºè­°**

1. **Double DQN**ï¼šæ¸›å°‘ Q å€¼éä¼°è¨ˆ
2. **Dueling DQN**ï¼šåˆ†é›¢ç‹€æ…‹åƒ¹å€¼èˆ‡å‹•ä½œå„ªå‹¢
3. **Rainbow DQN**ï¼šçµåˆå¤šç¨® DQN æ”¹é€²
4. **PPO / A3C**ï¼šActor-Critic æ–¹æ³•
5. **Self-Play**ï¼šä¿å­˜æ­·å²ç‰ˆæœ¬æ¨¡å‹é€²è¡Œå°æˆ°

---

## è³‡æ–™æª”æ¡ˆèªªæ˜

### æ¨¡å‹æª”æ¡ˆï¼ˆ`snake_models/`ï¼‰

**æ ¼å¼**ï¼šPyTorch `.pth` æª”æ¡ˆï¼ˆstate_dictï¼‰

**å…§å®¹**ï¼š
- ç¥ç¶“ç¶²è·¯æ¬Šé‡èˆ‡åç½®
- ä¸åŒ…å«å„ªåŒ–å™¨ç‹€æ…‹ï¼ˆå¯æ”¹é€²ï¼‰

**è¼‰å…¥æ–¹å¼**ï¼š
```python
model = DQN(input_size, output_size)
model.load_state_dict(torch.load("snake1_model.pth"))
```

### è¨˜æ†¶æª”æ¡ˆï¼ˆ`snake_memories/`ï¼‰

**æ ¼å¼**ï¼šPickle `.pkl` æª”æ¡ˆ

**å…§å®¹**ï¼šæ¯å€‹æª”æ¡ˆåŒ…å« 50 å›åˆçš„ç¶“é©—æ•¸æ“š
```python
[
    {
        'snake1_state': np.array([...]),      # 11ç¶­ç‹€æ…‹
        'snake1_action': int,                 # 0-3
        'snake1_reward': float,
        'snake1_done': bool,
        'snake2_state': np.array([...]),
        'snake2_action': int,
        'snake2_reward': float,
        'snake2_done': bool,
        'episode': int
    },
    ...
]
```

**ç”¨é€”**ï¼š
- é›¢ç·šåˆ†æè¨“ç·´éç¨‹
- è¦–è¦ºåŒ–æ±ºç­–éç¨‹
- å¯¦ä½œé›¢ç·šå¼·åŒ–å­¸ç¿’

---

## å¦‚ä½•ç¹¼çºŒæœªå®Œæˆçš„å·¥ä½œ

### ğŸ“‹ çŸ­æœŸä»»å‹™ï¼ˆ1-2é€±ï¼‰

#### 1. **ä¿®å¾©å·²çŸ¥ Bug**
```python
# TODO: æª¢æŸ¥é£Ÿç‰©æ˜¯å¦å¯èƒ½ç”Ÿæˆåœ¨ç‰†å…§ï¼ˆç›®å‰æ²’æœ‰ç‰†ï¼‰
# TODO: é ­å°é ­ç¢°æ’æ™‚çš„åˆ†æ•¸è¨ˆç®—é‚è¼¯
# TODO: æ”»æ“Šå‹•ç•«å¶çˆ¾ä¸é¡¯ç¤ºçš„å•é¡Œ
```

#### 2. **å„ªåŒ–è¨“ç·´æ•ˆç‡**
- [ ] å¯¦ä½œå„ªå…ˆç¶“é©—å›æ”¾ï¼ˆPrioritized Experience Replayï¼‰
- [ ] åŠ å…¥ Double DQN ç®—æ³•
- [ ] èª¿æ•´çå‹µå‡½æ•¸ï¼ˆåŠ å…¥è·é›¢çå‹µï¼‰
- [ ] èª¿æ•´æ¢ç´¢ç‡è¡°æ¸›ç­–ç•¥

#### 3. **è³‡æ–™åˆ†æèˆ‡è¦–è¦ºåŒ–**
- [ ] è®€å– `snake_memories/` ä¸­çš„ `.pkl` æª”æ¡ˆ
- [ ] ç¹ªè£½è©³ç´°å­¸ç¿’æ›²ç·šï¼ˆä½¿ç”¨ matplotlibï¼‰
- [ ] åˆ†æå‹ç‡ã€å¹³å‡å¾—åˆ†ã€å¹³å‡å›åˆé•·åº¦
- [ ] è¦–è¦ºåŒ– Q å€¼ç†±åŠ›åœ–

ç¯„ä¾‹ç¨‹å¼ç¢¼ï¼š
```python
import pickle
import matplotlib.pyplot as plt

# è¼‰å…¥è¨˜æ†¶æª”æ¡ˆ
with open('snake_memories/episode_memory_20251117_202955.pkl', 'rb') as f:
    data = pickle.load(f)

# åˆ†æçå‹µè¶¨å‹¢
rewards1 = [d['snake1_reward'] for d in data]
plt.plot(rewards1)
plt.title('Snake 1 Rewards Over Time')
plt.show()
```

#### 4. **æ”¹é€² UI**
- [ ] åŠ å…¥å³æ™‚ FPS é¡¯ç¤º
- [ ] é¡¯ç¤ºç•¶å‰ Q å€¼æœ€å¤§çš„å‹•ä½œ
- [ ] åŠ å…¥è¨“ç·´é€²åº¦æ¢
- [ ] ä¿å­˜è¢å¹•æˆªåœ–åŠŸèƒ½

### ğŸ¯ ä¸­æœŸç›®æ¨™ï¼ˆ1-2æœˆï¼‰

#### 1. **å‡ç´šç¥ç¶“ç¶²è·¯æ¶æ§‹**

**æ–¹æ¡ˆ Aï¼šCNN ç‹€æ…‹è¡¨ç¤º**
```python
# å°‡æ£‹ç›¤è½‰æ›ç‚º 3 é€šé“åœ–åƒ
# é€šé“ 1: è‡ªå·±çš„è›‡èº«ï¼ˆ1=é ­, 0.5=èº«é«”, 0=ç©ºï¼‰
# é€šé“ 2: å°æ–¹çš„è›‡èº«
# é€šé“ 3: é£Ÿç‰©ä½ç½®ï¼ˆ1=é£Ÿç‰©, 0=ç©ºï¼‰

class ConvDQN(nn.Module):
    def __init__(self):
        super().__init__()
        self.conv1 = nn.Conv2d(3, 32, kernel_size=3, padding=1)
        self.conv2 = nn.Conv2d(32, 64, kernel_size=3, padding=1)
        self.fc1 = nn.Linear(64 * 25 * 20, 256)
        self.fc2 = nn.Linear(256, 4)
    
    def forward(self, x):
        x = F.relu(self.conv1(x))
        x = F.relu(self.conv2(x))
        x = x.view(x.size(0), -1)
        x = F.relu(self.fc1(x))
        return self.fc2(x)
```

**æ–¹æ¡ˆ Bï¼šTransformer æ¶æ§‹**ï¼ˆé©åˆåºåˆ—æ±ºç­–ï¼‰

#### 2. **å¤šè›‡å°æˆ°ç³»çµ±**
- [ ] æ”¯æ´ 3-4 æ¢è›‡åŒæ™‚å°æˆ°
- [ ] å¯¦ä½œæ·˜æ±°è³½åˆ¶
- [ ] è¨ˆç®— ELO ç­‰ç´šåˆ†

#### 3. **è‡ªæˆ‘å°å¼ˆï¼ˆSelf-Playï¼‰**
```python
# æ¯ 100 å›åˆä¿å­˜ä¸€å€‹æª¢æŸ¥é»
if episode % 100 == 0:
    torch.save(model.state_dict(), f'checkpoints/model_{episode}.pth')

# éš¨æ©Ÿé¸æ“‡æ­·å²ç‰ˆæœ¬ä½œç‚ºå°æ‰‹
opponent_checkpoint = random.choice(os.listdir('checkpoints'))
opponent_model.load_state_dict(torch.load(opponent_checkpoint))
```

#### 4. **Web ä»‹é¢**
- ä½¿ç”¨ Flask/FastAPI å»ºç«‹ Web ä¼ºæœå™¨
- å¯¦ä½œå³æ™‚å°æˆ°è§€æˆ°
- å…è¨±äººé¡ç©å®¶åŠ å…¥å°æˆ°

### ğŸš€ é•·æœŸé¡˜æ™¯ï¼ˆ3-6æœˆï¼‰

#### 1. **ç™¼è¡¨è¨“ç·´å¥½çš„æ¨¡å‹**
- è¨“ç·´è‡³å°‘ 10,000 å›åˆ
- è¨˜éŒ„å®Œæ•´è¨“ç·´éç¨‹
- æ’°å¯«æŠ€è¡“å ±å‘Š
- é–‹æºè‡³ GitHub

#### 2. **æ¯”è³½èˆ‡æ’è¡Œæ¦œ**
- å»ºç«‹ç·šä¸Šå°æˆ°å¹³å°
- å…è¨±å…¶ä»–é–‹ç™¼è€…ä¸Šå‚³æ¨¡å‹
- èˆ‰è¾¦éŒ¦æ¨™è³½

#### 3. **é·ç§»å­¸ç¿’**
- è¨“ç·´å¥½çš„æ¨¡å‹æ‡‰ç”¨æ–¼å…¶ä»–éŠæˆ²
- å˜—è©¦ OpenAI Gym ç’°å¢ƒ

#### 4. **ç ”ç©¶æ–¹å‘**
- æ¢ç´¢åˆä½œèˆ‡ç«¶çˆ­çš„å¹³è¡¡
- ç ”ç©¶æ¹§ç¾è¡Œç‚ºï¼ˆemergent behaviorï¼‰
- æ’°å¯«å­¸è¡“è«–æ–‡

---

## å¸¸è¦‹å•é¡Œæ’é™¤

### Q1: è¨“ç·´é€Ÿåº¦å¤ªæ…¢
**åŸå› **ï¼šæ¯å›åˆéƒ½æ›´æ–°ç¥ç¶“ç¶²è·¯
**è§£æ±º**ï¼š
```python
# æ”¹ç‚ºç´¯ç© N å€‹å›åˆå¾Œæ‰¹æ¬¡è¨“ç·´
if len(self.ai1.memory) >= self.batch_size * 10:
    for _ in range(10):  # ä¸€æ¬¡è¨“ç·´ 10 æ‰¹æ¬¡
        self.ai1.replay()
```

### Q2: è›‡ç¸½æ˜¯æ’ç‰†/è‡ªæ®º
**åŸå› **ï¼šçå‹µè¨­è¨ˆä¸ç•¶ï¼Œæ­»äº¡æ‡²ç½°ä¸å¤ å¤§
**è§£æ±º**ï¼šå¢åŠ æ­»äº¡æ‡²ç½°è‡³ -50

### Q3: å­¸ç¿’æ›²ç·šä¸æ”¶æ–‚
**å¯èƒ½åŸå› **ï¼š
1. å­¸ç¿’ç‡éé«˜ â†’ é™è‡³ 0.0001
2. ç¶²è·¯å¤ªå° â†’ å¢åŠ å±¤æ•¸/ç¥ç¶“å…ƒ
3. ç‹€æ…‹è¡¨ç¤ºä¸è¶³ â†’ ä½¿ç”¨ CNN

### Q4: æ¨¡å‹æª”æ¡ˆææ¯€
**é é˜²æªæ–½**ï¼š
```python
# ä¿å­˜å‰å…ˆé©—è­‰
torch.save(model.state_dict(), 'temp.pth')
temp_model = DQN(input_size, output_size)
temp_model.load_state_dict(torch.load('temp.pth'))
os.rename('temp.pth', 'final.pth')
```

---

## ç¨‹å¼ç¢¼å°è¦½

### é—œéµå‡½æ•¸ä½ç½®

| åŠŸèƒ½ | æª”æ¡ˆ | è¡Œæ•¸ |
|------|------|------|
| DQN ç¥ç¶“ç¶²è·¯å®šç¾© | game.py | 64-73 |
| DQN ä»£ç†å¯¦ä½œ | game.py | 85-151 |
| ç‹€æ…‹ç‰¹å¾µæå– | game.py | 107-130 |
| çå‹µè¨ˆç®— | game.py | 1067-1087 |
| ç¢°æ’æª¢æ¸¬ | game.py | 1177-1209 |
| è¨“ç·´å¾ªç’° | game.py | 1212-1228 |
| UI ç¹ªè£½ | game.py | 1391-1492 |
| å­¸ç¿’æ›²ç·šåœ– | game.py | 1282-1349 |

### æ–°å¢åŠŸèƒ½çš„å»ºè­°ä½ç½®

**åŠ å…¥æ–°çš„çå‹µæ©Ÿåˆ¶**ï¼š
- ä¿®æ”¹ `calculate_reward()` æ–¹æ³•ï¼ˆç¬¬ 1067 è¡Œï¼‰

**æ”¹è®Šç¥ç¶“ç¶²è·¯æ¶æ§‹**ï¼š
- å»ºç«‹æ–°çš„ `DQN` é¡ï¼ˆç¬¬ 64 è¡Œé™„è¿‘ï¼‰
- æ›´æ–° `input_size` èˆ‡ `get_state()` æ–¹æ³•

**åŠ å…¥æ–°çš„å°æˆ°è¦å‰‡**ï¼š
- ä¿®æ”¹ `update()` æ–¹æ³•ä¸­çš„ç¢°æ’é‚è¼¯ï¼ˆç¬¬ 1177 è¡Œèµ·ï¼‰

**æ–°å¢ UI å…ƒç´ **ï¼š
- åœ¨ `draw_ui()` æ–¹æ³•ä¸­åŠ å…¥ï¼ˆç¬¬ 1391 è¡Œèµ·ï¼‰

---

## åƒè€ƒè³‡æº

### æ·±åº¦å¼·åŒ–å­¸ç¿’
- [Playing Atari with Deep Reinforcement Learning (DQN)](https://arxiv.org/abs/1312.5602)
- [Deep Reinforcement Learning Hands-On](https://github.com/PacktPublishing/Deep-Reinforcement-Learning-Hands-On)
- [OpenAI Spinning Up](https://spinningup.openai.com/)

### Pygame æ•™å­¸
- [Pygame å®˜æ–¹æ–‡æª”](https://www.pygame.org/docs/)
- [Real Python Pygame Tutorial](https://realpython.com/pygame-a-primer/)

### PyTorch æ•™å­¸
- [PyTorch å®˜æ–¹æ•™å­¸](https://pytorch.org/tutorials/)
- [Deep Learning with PyTorch](https://pytorch.org/deep-learning-with-pytorch)

---

## æˆæ¬Šèˆ‡è²¢ç»

### ç›®å‰ç‹€æ…‹
- æœ¬å°ˆæ¡ˆç‚ºå€‹äººå­¸ç¿’å°ˆæ¡ˆ
- å»ºè­°æ·»åŠ é–‹æºæˆæ¬Šï¼ˆå¦‚ MIT Licenseï¼‰

### å¦‚ä½•è²¢ç»
1. Fork æœ¬å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€è‡³åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•Ÿ Pull Request

---

## ç‰ˆæœ¬æ­·å²

### v1.0.0ï¼ˆç•¶å‰ç‰ˆæœ¬ï¼‰
- âœ… åŸºç¤ DQN é›™è›‡å°æˆ°
- âœ… 2D/3D è¦–è¦ºåŒ–
- âœ… å­¸ç¿’æ›²ç·šç›£æ§
- âœ… æ¨¡å‹èˆ‡è¨˜æ†¶ä¿å­˜

### v1.1.0ï¼ˆè¦åŠƒä¸­ï¼‰
- ğŸ”„ å„ªå…ˆç¶“é©—å›æ”¾
- ğŸ”„ Double DQN
- ğŸ”„ æ”¹é€²çå‹µå‡½æ•¸
- ğŸ”„ å®Œæ•´çš„è¨“ç·´åˆ†æå·¥å…·

### v2.0.0ï¼ˆæœªä¾†å±•æœ›ï¼‰
- ğŸ’¡ CNN ç‹€æ…‹è¡¨ç¤º
- ğŸ’¡ å¤šè›‡å°æˆ°
- ğŸ’¡ Web ä»‹é¢
- ğŸ’¡ è‡ªæˆ‘å°å¼ˆç³»çµ±

---

## è¯çµ¡è³‡è¨Š

å¦‚æœ‰ä»»ä½•å•é¡Œæˆ–å»ºè­°ï¼Œæ­¡è¿é€éä»¥ä¸‹æ–¹å¼è¯ç¹«ï¼š

- **GitHub Issues**ï¼šï¼ˆå¾…è£œå…… repo é€£çµï¼‰
- **Email**ï¼šï¼ˆå¾…è£œå……ï¼‰

---

**æœ€å¾Œæ›´æ–°**ï¼š2025å¹´11æœˆ22æ—¥
**æ–‡æª”ç‰ˆæœ¬**ï¼š1.0.0
**å°ˆæ¡ˆç‹€æ…‹**ï¼šç©æ¥µé–‹ç™¼ä¸­ ğŸš€
